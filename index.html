<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="style.css" rel="stylesheet" />
    <title>Weather Forecast</title>
  </head>
  <body>
    <div id="weather-window">
      <div id="window-title" class="px-2">Title</div>
      <div id="window-content" class="container-fluid">
        <div class="row">
          <div class="col">
            <div id="current-data">
                <h1 id="currently-in">Currently in</h1>
                <h2 id="city">Dnipro</h2>
                <p id="current-time"> Tuesday 16:00</p>
                <i id="current-weather-icon">ðŸŒ¦</i>
               
                <p id="meaning">Sunny</p>
                <p id="temperature">16Â°C</p>
            </div>
            <div id="current-details" class="container">
              <div class="row h-100" >
                <div class="col add-info">
                  <div class="info-title">sunrise & sunset</div>
                  <div class="data">
                    <p>6:44 am </br> 
                        8:23 pm</p>
                  </div>
                </div>


                <div class="col add-info" id="mid-element">
                  <div class="info-title">wind speed</div>
                  <div class="data">8km/h</div>
                </div>


                <div class="col add-info">
                  <div class="info-title">humidity</div>
                  <div class="data">13%</div>
                </div>
              </div>
            </div>
          </div>

          <div class="col">
            <form id="search-form">
              <input
                id="search-bar"
                type="text"
                placeholder="Search a city"
                name="q"
              />
              <button id="search-button" type="submit">ðŸ”Ž</button>
            </form>

            <div class="container text-center forecast">
              <div class="row">
                <div class="col">Today</div>
                <div class="col">img</div>
                <div class="col">H: 18</div>
                <div class="col">L: 4</div>
              </div>
              
              <div class="row">
                <div class="col">Today</div>
                <div class="col">img</div>
                <div class="col">H: 18</div>
                <div class="col">L: 4</div>
              </div>
              
              <div class="row">
                <div class="col">Today</div>
                <div class="col">img</div>
                <div class="col">H: 18</div>
                <div class="col">L: 4</div>
              </div>
            
              <div class="row">
                <div class="col">Today</div>
                <div class="col">img</div>
                <div class="col">H: 18</div>
                <div class="col">L: 4</div>
              </div>
              
              <div class="row">
                <div class="col">Today</div>
                <div class="col">img</div>
                <div class="col">H: 18</div>
                <div class="col">L: 4</div>
              </div>
              
              <div class="row">
                <div class="col">Today</div>
                <div class="col">img</div>
                <div class="col">H: 18</div>
                <div class="col">L: 4</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    >
    </script>
    <script>
    // Feature 1
    // Display the current date and time using JavaScript: Tuesday 16:00
    function showTime() {
      // Get the current date and time
      let currentDate = new Date();

      // Get the day of the week
      let daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      let dayOfWeek = daysOfWeek[currentDate.getDay()];

      // Get the hours and minutes
      let hours = currentDate.getHours();
      let minutes = currentDate.getMinutes();

      // Display the formatted time
      let time = document.querySelector("#current-time");
      time.textContent = `${dayOfWeek} ${hours}:${minutes < 10 ? '0' + minutes : minutes}`;
    }

    function showTemperature(response) {
      let temperature = Math.round(response.data.main.temp);
      let city = response.data.name;
      let cityTemp = document.querySelector("p#temperature");
      cityTemp.innerHTML = `${temperature}Â°C`;
    }
    
    function requestTemperature(city) {
      console.log(city);
      let apiKey = "a969311cfcbb4a83dfad2cf7478397f9";
      let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric`;
      axios.get(`${apiUrl}&appid=${apiKey}`).then(showTemperature);
    }

    // Feature 2
    // When searching for a city (i.e. Paris), display the city name on the page after the user submits the form and requesting temp 
    function searchCity(event) {
      event.preventDefault();
      let cityInput = document.querySelector("#search-bar");
      let city = document.querySelector("#city");
      let cityName = cityInput.value;
      city.innerHTML = cityName;
      event.target.reset();
      // Requesting temperature from external API
      requestTemperature(cityName);
    }

    let searchForm = document.querySelector("#search-form");
    searchForm.addEventListener("submit", searchCity);

    showTime();
    
    

    
     

    // Feature 3 
    // Display the name of the city on the result page and the current temperature of the city
      


      
  </script>
  </body>
</html>
